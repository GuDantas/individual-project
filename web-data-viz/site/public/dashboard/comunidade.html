<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunidade</title>
    <link rel="stylesheet" href="../Rethink/CSS/style.css">
    <link rel="stylesheet" href="../Rethink/flexboxgrid-6.3.1/css/flexboxgrid.min.css">
    <link rel="stylesheet" href="../Rethink/CSS/comunidade.css">
</head>

<body>
    <div class=" main container-fluid">
        <div class="row justify-content-sm-center">
            <div class="Header col-md-12">
                <div class="interaction col-md-4">
                    <a class="logoLink" href="../index.html">
                        <h1>Rethink the Engines</h1>
                    </a>
                    <img class="logotipo" src="../Rethink/images/logo.png" alt="logotipo">
                </div>
                <div class="menu col-md-8">
                    <a class="option" href="">Realidade sobre motores a combustão & elétricos</a>
                    <a class="option" href="realidade.html">Compare você mesmo</a>
                    <a class="option" href="">Comunidade</a>
                </div>
            </div>
            <!--Final Header-->

            <div class="newComment col-md-8">
                <h2 class="guideText">Assunto</h2>
                <input class="assuntoInpt" id="inptAssunto" type="text">
                <h2 class="guideText">Comentário</h2>
                <input class="comentarioInpt" id="inptComentario"><br>
                <button class="publish option" onclick="publicar()">Publicar</button>
            </div>
            <div class="comunityContainer col-md-8" id="comunityContainer">
                <div class="comment">
                    <div class="basicInfo">
                        <h3 class="about">Assunto</h3>
                        <b class="user">Usuario</b>
                    </div>
                    <p class="descricao">Emerson Olhos quebrou o recorde de velocidade em um uno?</p>
                    <div class="commentOptions">
                        <button class="option publish">Excluir</button>
                        <button class="option publish">Responder</button>
                    </div>
                </div>
            </div>
            <!--Inicio Footer-->
            <div class="footer col-md-12 col-lg-12">
                <div class="logoHome col-md-2">
                    <a href="../index.html">
                        <img class="homeBtn" src="../Rethink/images/logo.png" alt="Logotipo / Botão home">
                    </a>
                    <a class="logoLink" href="../index.html">
                        <h3>Rethink The Engines</h3>
                    </a>
                </div>
                <div class="footerColumn col-md-2">
                    <h4>Contatos:</h4>
                    <a href="">Sobre nós</a>
                    <a href="">Sugestões</a>
                </div>
                <div class="footerColumn col-md-2">
                    <h4>Nosso Contexto:</h4>
                    <a href="realidade.html">Compare Você mesmo</a>
                    <a href="">Nossa Causa</a>
                </div>
                <div class="footerColumn col-md-2">
                    <h4>Atalhos:</h4>
                    <a href="../index.html">Página Inicial</a>
                    <a href="">Comunidade</a>
                </div>
                <div class="footerColumn col-md-2">
                    <h4>Autenticação:</h4>
                    <a href="../login.html">Login</a>
                    <a href="../cadastro.html">Cadastro</a>
                </div>
            </div>
            <b class="copyright">Copyright © 2023 - Todos os direitos reservados para Gustavo Enrico</b>
        </div>
    </div>
</body>

</html>
<script>
    function publicar() {
        var assuntoVar = inptAssunto.value;
        var descricaoVar = inptComentario.value;
        var idUsuario = sessionStorage.ID_USUARIO;
        fetch(`/avisos/publicar/${idUsuario}`, {
            method: "post",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                assuntoServer: assuntoVar,
                descricaoServer: descricaoVar,
            })
        }).then(function (resposta) {
            console.log("resposta: ", resposta);
            window.alert("Post realizado com sucesso pelo usuario de ID: " + idUsuario + "!");
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
        });
        return false;
    }
</script>